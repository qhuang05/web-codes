<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>分享到侧边栏</title>
	<style>
		#div1 { width: 150px; height: 300px; background: #ccc; position: absolute; left: -150px;}
		#txt { width: 20px; height: 60px; background: red; position: absolute; right: -20px }
	</style>
	<script>
		window.onload=function(){
			var oDiv=document.getElementById("div1");
			oDiv.onmouseover=function(){
				startMove(0);
			};

			oDiv.onmouseout=function(){
				startMove(-150);
			};

			var timer=null;					//注意:timer不能在startMove函数中定义
			function startMove(iTarget){
				clearInterval(timer);
				timer=setInterval(function(){
					var speed=0;
					if(oDiv.offsetLeft>iTarget){
						speed=-10;
					}
					else {
						speed=10;
					}
					if(oDiv.offsetLeft==iTarget) {
						clearInterval(timer);
					}
					else {
						oDiv.style.left=oDiv.offsetLeft+speed+'px';
					}
				},30);		
			}			
		};
	</script>
</head>

<body>
	<div id="div1">
		<span id="txt">分享到</span>
	</div>
</body>
</html>

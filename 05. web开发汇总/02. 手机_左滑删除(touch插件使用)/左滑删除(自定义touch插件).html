<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <title>左滑删除-自定义插件touch</title>
    <link type="text/css" rel="stylesheet" href="../css/reset.css" />
    <script src="../plugins/zepto-1.1.6.min.js"></script>
    <script src="../plugins/touch_m.js"></script>
    <style>
        .list-wrapper{width:100%; overflow: hidden}
        .list-wrapper li{width: 100%; height: 70px; line-height: 70px; position:relative; margin-bottom:2px}
        .list-wrapper li.active{transform: translateX(-50px); -webkit-transform: translateX(-50px); -moz-transform: translateX(-50px); -o-transform: translateX(-50px)}
        .list-wrapper .left{height:70px; background: forestgreen}
        .list-wrapper .del{width:50px; height:70px; line-height:70px; text-align: center; position:absolute; right:-50px; top:0; background: orangered;}
        .btn{ padding: 10px 20px; background: dodgerblue; border:1px solid blue}
    </style>
</head>
<body>
<!-- 说明：使用官方的touch.js插件, 元素滑动时页面会移动，导致swipe事件不灵敏, 自定义touch插件解决这个问题-->
<ul class="list-wrapper">
    <li>
        <div class="left">列表1, 列表1, 列表1, 列表1, 列表1, 列表1, 列表1, 列表1</div>
        <div class="del">删除1</div>
    </li>
    <li>
        <div class="left">列表2, 列表2, 列表2, 列表2, 列表2, 列表2, 列表2, 列表2</div>
        <div class="del">删除2</div>
    </li>
    <li>
        <div class="left">列表3, 列表3, 列表3, 列表3, 列表3, 列表3, 列表3, 列表3</div>
        <div class="del">删除3</div>
    </li>
    <li>
        <div class="left">列表4, 列表4, 列表4, 列表4, 列表4, 列表4, 列表4, 列表4</div>
        <div class="del">删除4</div>
    </li>
    <li>
        <div class="left">列表5, 列表5, 列表5, 列表5, 列表5, 列表5, 列表5, 列表5</div>
        <div class="del">删除5</div>
    </li>
</ul>
<button  class="btn" id="btn1">tap事件</button>
<button class="btn" id="btn2">longTap事件</button>
<script>
    $(document).ready(function(){
        $('.list-wrapper li').each(function(){
            $(this).swipeLeft(function(selfObj, event){
                $(selfObj).addClass('active');
            });
            $(this).swipeRight(function(selfObj, event){
                $(selfObj).removeClass('active');
            });
            $(this).find('.del').tap(function(selfObj, event){
                $(selfObj).parent().remove();
            });
        });

        $('#btn1').tap(function(selfObj){
            alert('您触发了tap事件！');
            $(selfObj).css('background-color', '#ccc');
        });
        $('#btn2').longTap(function(selfObj){
            alert('您触发了longTap事件！');
            $(selfObj).css('background-color', '#ccc');
        });
    });
</script>
</body>
</html>